<!-- Adapted from https://victoria.dev/blog/add-search-to-hugo-static-sites-with-lunr/ -->

<script>
    window.store = {
        // You can specify your blog section only:
        {{ range .Site.RegularPages }}
        // For all pages in your site, use "range .Site.Pages"
        // You can use any unique identifier here
        "{{ .Permalink }}": {
            // You can customize your searchable fields using any .Page parameters
            "title": "{{ .Title  }}",
            "content": {{ .Content | plainify }}, // Strip out HTML tags
            "url": "{{ .Permalink }}"
        },
        {{ end }}
    }
</script>

<script src="{{.Site.BaseURL}}/js/lunr.js"></script>
<script src="{{.Site.BaseURL}}/js/search.js"></script>
